<app-navigation (logoutClicked)="onLogout()"></app-navigation>

<!-- <div class="top-bar d-flex justify-content-between align-items-center px-4 py-2 bg-light border-bottom">
  <h4 class="mb-0">Dashboard</h4>
<div class="dropdown">
    <button class="btn btn-light dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" width="32" height="32" class="rounded-circle me-2" />
      {{ username }}
    </button>
    <ul class="dropdown-menu dropdown-menu-end">
<a class="dropdown-item text-danger" href="#" (click)="onLogout(); $event.preventDefault()">Logout</a>
    </ul>
  </div>
</div> -->
<button class="btn btn-primary" (click)="SHowModelPop()">Popup</button>

<!-- Login Success Pop-up -->
<div *ngIf="showLoginPopup" class="popup-overlay">
  <div class="popup-card position-relative">
    <!-- Close Button (X) -->
    <button type="button" class="btn-close position-absolute top-0 end-0 m-2" aria-label="Close" (click)="onPopupOk()"></button>
    <h4 class="mb-3">Attendance Sign In</h4>
    <p>Would you like to sign in Attendance?</p>
    <table class="table table-bordered">
  <tr>
    <td>Date</td>
    <td>{{ todayDate }}</td>
  </tr>
  <tr>
    <td>Shift Start Time</td>
    <td>{{ shiftStartTime }}</td>
  </tr>
  <tr>
    <td>Login Time</td>
    <td>{{ loginTime }}</td>
  </tr>
</table>

<div class="d-flex justify-content-center gap-3 mt-3">
  <button type="button" class="btn btn-primary btn-sm w-25" (click)="onPopupOk()">Ok</button>
  <button type="button" class="btn btn-danger btn-sm w-25" (click)="onPopupOk()">Cancel</button>
</div>
  </div>
</div>

<!-- Logout Success Pop-up -->
<div *ngIf="showLogoutPopup" class="popup-overlay">
    <div class="popup-card position-relative">
    <!-- Close Button (X) -->
    <button type="button" class="btn-close position-absolute top-0 end-0 m-2" aria-label="Close" (click)="closeLogoutPopup()"></button>
    <h4 class="mb-3">Attendance Sign Out</h4>
    <p>Would you like to sign out Attendance?</p>
    <table class="table table-bordered">
  <tr>
    <td>Date</td>
    <td>{{ todayDate }}</td>
  </tr>
  <tr>
    <td>Shift Start Time</td>
    <td>{{ shiftStartTime }}</td>
  </tr>
  <tr>
    <td>Login Time</td>
    <td>{{ loginTime }}</td>
  </tr>
  <tr>
    <td>Logout Time</td>
    <td>{{ logOutTime }}</td>
  </tr>
  <tr>
    <td>Total Logged In Hours</td>
    <td>{{ totalLoggedInHours }}</td>
  </tr>
</table>

<div class="d-flex justify-content-center gap-3 mt-3">
  <button type="button" class="btn btn-primary btn-sm w-25" (click)="closeLogoutPopup()">Ok</button>
  <button type="button" class="btn btn-danger btn-sm w-25" (click)="closeLogoutPopup()">Cancel</button>
</div>
  </div>
  </div>

<!-- Dashboard Content with Blur Effect -->
<div class="dashboard-content" [ngClass]="{ 'blur-background': showLoginPopup || showCard }">
  <div class="container mt-4">
    <h2>Hello, {{ username }}</h2>
    <p>This is your dashboard content.</p>

    <table class="table table-bordered mt-4">
      <tr>
        <th>Date</th>
        <td>{{ todayDate }}</td>
      </tr>
      <tr>
        <th>Shift Start Time</th>
        <td>{{ shiftStartTime }}</td>
      </tr>
      <tr>
        <th>Login Time</th>
        <td>{{ loginTime }}</td>
      </tr>
      <tr>
        <th>Logout Time</th>
        <td>{{ logOutTime }}</td>
      </tr>
      <tr>
        <th>Total Logged In Hours</th>
        <td>{{ totalLoggedInHours }}</td>
      </tr>
    </table>

    <!-- Logout Button -->
  </div>
</div>

<!-- Logout Shift Details Pop-up -->
<div *ngIf="showCard" class="popup-overlay">
  <div class="popup-card position-relative">
    <!-- Close Button (X) -->
    <button type="button" class="btn-close position-absolute top-0 end-0 m-2" aria-label="Close" (click)="closeLogoutPopup()"></button>
    <h5 class="d-flex justify-content-center">Attendance Sign Out</h5>
    <p class="d-flex justify-content-center">Would you like to sign out Attendance?</p>
    <table class="table table-bordered">
  <tr>
    <td>Date</td>
    <td>{{ todayDate }}</td>
  </tr>
  <tr>
    <td>Shift Start Time</td>
    <td>{{ shiftStartTime }}</td>
  </tr>
  <tr>
    <td>Login Time</td>
    <td>{{ loginTime }}</td>
  </tr>
  <tr>
    <td>Logout Time</td>
    <td>{{ logOutTime }}</td>
  </tr>
  <tr>
    <td>Total Logged In Hours</td>
    <td>{{ totalLoggedInHours }}</td>
  </tr>
</table>
<div class="d-flex justify-content-center gap-3 mt-3">
  <button class="btn btn-primary mt-3 btn-sm w-25" (click)="closeLogoutPopup()">Confirm</button>
    <button class="btn btn-danger mt-3 btn-sm w-25" (click)="closeLogoutPopup()">Cancel</button>
</div>
  </div>
</div>
